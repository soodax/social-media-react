{"version":3,"sources":["components/Users/User/User.jsx","assets/images/left-arrow.svg","assets/images/right-arrow.svg","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","selectors/user-selector.js","components/Users/UsersContainer.jsx"],"names":["User","user","isFollowingProcess","unfollowUser","followUser","className","to","id","src","photos","small","userPhoto","width","alt","name","status","followed","disabled","some","onClick","type","value","Paginator","onCurrentPageUpdate","currentPageNumber","maxUsersCount","maxPageSize","totalPagesCount","Math","ceil","pages","i","push","useState","currentPageGroup","setCurrentPageGroup","pageGroupCount","leftPageGroupBorder","rightPageGroupBorder","leftArrow","srcset","filter","number","map","index","rightArrow","Users","usersElements","getUsersElements","state","usersPage","users","getMaxUsersCount","getMaxPageSize","getCurrentPageNumber","getIsFetching","isFetching","getIsFollowingProcess","connect","setCurrentPage","getUsers","useEffect","length","Preloader"],"mappings":"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","file":"static/js/5.c0f00955.chunk.js","sourcesContent":["import './User.scss';\r\nimport userPhoto from '../../../assets/images/userPhoto.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({\r\n    user,\r\n    isFollowingProcess,\r\n    unfollowUser,\r\n    followUser }) => {\r\n\r\n    return (\r\n        <div className='userItem'>\r\n            <div className='userItem__image'>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null\r\n                        ? user.photos.small\r\n                        : userPhoto} width=\"80\" alt=\"\" />\r\n                </NavLink>\r\n            </div>\r\n            <div className='userItem__main'>\r\n                <div className='userItem__info'>\r\n                    <div className='userItem__fullname'>{user.name}</div>\r\n                </div>\r\n                <div className='userItem__status'>\r\n                    {user.status != null\r\n                        ? user.status\r\n                        : 'default status'}\r\n                </div>\r\n            </div>\r\n            <div className='userItem__bottom'>\r\n                {user.followed\r\n                    ? <button className='action-btn'\r\n                        disabled={isFollowingProcess.some(id => id === user.id)}\r\n                        onClick={() => { unfollowUser(user.id) }}>Unfollow</button>\r\n\r\n                    // : <Button className='action-btn'\r\n                    //     variant='contained'\r\n                    //     endIcon={<PersonAddIcon />}\r\n                    //     disabled={isFollowingProcess.some(id => id === user.id)}\r\n                    //     onClick={() => { followUser(user.id) }}>Follow</Button>\r\n                    : <input disabled={isFollowingProcess.some(id => id === user.id)} onClick={() => {\r\n                        followUser(user.id);\r\n                    }} className=\"userItem__buttonFollow userItem__button\" type=\"button\" value=\"Follow\" />\r\n                }\r\n\r\n\r\n            </div>\r\n        </div>)\r\n\r\n}\r\n\r\n// : <input disabled={isFollowingProcess.some(id => id === user.id)} onClick={() => {\r\n//     followUser(user.id);\r\n// }} className=\"userItem__buttonFollow userItem__button\" type=\"button\" value=\"Подписаться\" />\r\n\r\nexport default User\r\n","export default __webpack_public_path__ + \"static/media/left-arrow.d9f8e04d.svg\";","export default __webpack_public_path__ + \"static/media/right-arrow.c46bf849.svg\";","import { useState } from 'react';\r\nimport './Paginator.scss';\r\nimport leftArrow from '../../../assets/images/left-arrow.svg';\r\nimport rightArrow from '../../../assets/images/right-arrow.svg';\r\n\r\nconst Paginator = ({\r\n    onCurrentPageUpdate,\r\n    currentPageNumber,\r\n    maxUsersCount,\r\n    maxPageSize }) => {\r\n\r\n    let totalPagesCount = Math.ceil(maxUsersCount / maxPageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= totalPagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const [currentPageGroup, setCurrentPageGroup] = useState(1);\r\n    let pageGroupCount = Math.ceil(totalPagesCount / 10);\r\n    let leftPageGroupBorder = (currentPageGroup - 1) * 10 + 1;\r\n    let rightPageGroupBorder = (currentPageGroup * 10)\r\n\r\n    return (\r\n        <div className='pageSelectors'>\r\n            {currentPageGroup > 1\r\n                ? <button className='pageSelectors__nav' onClick={() => setCurrentPageGroup(currentPageGroup - 1)}>\r\n                    <img src={leftArrow} width='28' alt=\"left-arrow\" srcset=\"\" />\r\n                </button>\r\n                : null}\r\n\r\n            {pages.filter(number => number >= leftPageGroupBorder && number <= rightPageGroupBorder)\r\n                .map((number, index) => {\r\n                    return <input type=\"button\"\r\n                        key={index}\r\n                        onClick={() => onCurrentPageUpdate(number)}\r\n                        className={currentPageNumber === number\r\n                            ? 'pageSelector pageSelector__active'\r\n                            : 'pageSelector pageSelector__normal button'}\r\n                        value={number} />\r\n                })}\r\n            {pageGroupCount > currentPageGroup\r\n                ? <button className='pageSelectors__nav' type='button' onClick={() => setCurrentPageGroup(currentPageGroup + 1)}>\r\n                    <img src={rightArrow} width='28' alt=\"right-arrow\" />\r\n                </button>\r\n                : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import './Users.scss';\r\nimport User from './User/User';\r\nimport Paginator from '../Common/Paginator/Paginator';\r\n\r\n\r\nconst Users = ({\r\n    usersElements,\r\n    isFollowingProcess,\r\n    followUser,\r\n    unfollowUser,\r\n    pages,\r\n    currentPageNumber,\r\n    onCurrentPageUpdate,\r\n    maxUsersCount,\r\n    maxPageSize }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator pages={pages}\r\n                currentPageNumber={currentPageNumber}\r\n                onCurrentPageUpdate={onCurrentPageUpdate}\r\n                maxUsersCount={maxUsersCount}\r\n                maxPageSize={maxPageSize} />\r\n            {usersElements.map(user =>\r\n                <User key={user.id}\r\n                    user={user}\r\n                    isFollowingProcess={isFollowingProcess}\r\n                    followUser={followUser}\r\n                    unfollowUser={unfollowUser} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","export const getUsersElements = (state) => state.usersPage.users\r\n\r\nexport const getMaxUsersCount = (state) => state.usersPage.maxUsersCount\r\n\r\nexport const getMaxPageSize = (state) => state.usersPage.maxPageSize\r\n\r\nexport const getCurrentPageNumber = (state) => state.usersPage.currentPageNumber\r\n\r\nexport const getIsFetching = (state) => state.usersPage.isFetching\r\n\r\nexport const getIsFollowingProcess = (state) => state.usersPage.isFollowingProcess","import React, { useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    setCurrentPage,\r\n    getUsers,\r\n    followUser,\r\n    unfollowUser\r\n} from '../../redux/usersReducer';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport {\r\n    getUsersElements,\r\n    getMaxUsersCount,\r\n    getMaxPageSize,\r\n    getCurrentPageNumber,\r\n    getIsFetching,\r\n    getIsFollowingProcess\r\n} from '../../selectors/user-selector';\r\n\r\nconst UsersContainer = ({\r\n    usersElements,\r\n    getUsers,\r\n    currentPageNumber,\r\n    maxPageSize,\r\n    setCurrentPage,\r\n    maxUsersCount,\r\n    isFollowingProcess,\r\n    followUser,\r\n    unfollowUser,\r\n    isFetching }) => {\r\n\r\n    useEffect(() => {\r\n        if (usersElements.length === 0) {\r\n            getUsers(currentPageNumber, maxPageSize);\r\n        }\r\n    }, [])\r\n\r\n    let onCurrentPageUpdate = (currentPageNumber) => {\r\n        setCurrentPage(currentPageNumber);\r\n        getUsers(currentPageNumber, maxPageSize);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {isFetching === true ? <Preloader /> : null}\r\n            <Users maxUsersCount={maxUsersCount}\r\n                maxPageSize={maxPageSize}\r\n                usersElements={usersElements}\r\n                currentPageNumber={currentPageNumber}\r\n                onCurrentPageUpdate={onCurrentPageUpdate}\r\n                isFollowingProcess={isFollowingProcess}\r\n                followUser={followUser}\r\n                unfollowUser={unfollowUser}\r\n                />\r\n        </div>)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        usersElements: getUsersElements(state),\r\n        maxUsersCount: getMaxUsersCount(state),\r\n        maxPageSize: getMaxPageSize(state),\r\n        currentPageNumber: getCurrentPageNumber(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingProcess: getIsFollowingProcess(state)\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    setCurrentPage,\r\n    getUsers,\r\n    followUser,\r\n    unfollowUser\r\n})(UsersContainer);\r\n\r\n"],"sourceRoot":""}